# 本周学习总结：角度环控制与DBUS串口通信

## 一、角度环控制学习总结

### 1.1 遇到的问题与解决方案
#### （1）编码器数据（ecd）求和异常
- **问题描述**：在进行角度环控制时，发现编码器数据（ecd）的累加计算始终不正确。
- **原因分析**：经学长协助排查代码，发现`last_ecd=ecd;`这行代码的位置放置存在问题。由于每次赋值的时间点不一致，导致部分编码器数据在计算过程中被遗漏。
- **解决方案**：调整`last_ecd=ecd;`的代码位置，确保在每个控制周期内正确更新上一次的编码器值，避免数据丢失。

#### （2）电机抖动问题
- **问题描述**：在角度环控制过程中，电机出现较为明显的抖动现象。
- **原因分析**：初步判断为PID控制器的比例系数（Kp）设置不当，导致系统响应过于敏感或振荡。
- **解决过程**：通过多次试验和调整，逐步尝试不同的Kp值，最终找到了一个相对较为平稳、抖动较小的参数值。

### 1.2 角度环控制优化
- **稳态误差分析**：使用Ozone图形工具观察系统响应，发现角度环仍存在一定的稳态误差，无法完全消除。
- **改进思路**：推测当前的角度环PID控制器可能未引入积分项（Ki），导致系统无法消除稳态误差。计划在后续调试中加入Ki参数，以提高系统的稳态精度。

---

## 二、DBUS串口通信学习总结

### 2.1 学习进展
- **数据接收**：DBUS串口通信的数据接收部分基本实现，未遇到重大问题。
- **通信稳定性**：目前通信过程较为稳定，能够正确解析和处理接收到的数据。

### 2.2 后续计划
- 进一步优化DBUS通信的异常处理机制，提高系统的鲁棒性。
- 结合角度环控制，实现通过DBUS接收指令并控制电机角度的完整闭环流程。

---

## 三、总结与展望
本周通过实践加深了对角度环控制和DBUS通信的理解，尤其通过调试解决了编码器数据遗漏和电机抖动的问题。下一步将继续优化PID参数，引入积分控制以减小稳态误差，并完善DBUS通信与控制系统的整合。
